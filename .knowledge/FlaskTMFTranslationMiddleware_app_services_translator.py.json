{"is_source_file": true, "format": "Python", "description": "This Python source file defines a `TranslatorService` class responsible for translating data between TMF format and a native Django application format. It includes utility functions for renaming fields and normalizing IDs, and it manages resource-specific mappings stored in a registry. The file primarily handles the conversion of request payloads and query parameters, as well as responses, facilitating integration between TMF-compliant clients and the internal system.", "external_files": ["typing", "copy"], "external_methods": ["typing.Callable", "typing.Dict", "typing.Any", "typing.Union", "copy.deepcopy"], "published": ["TranslatorService"], "classes": [{"name": "TranslatorService", "description": "Class providing methods to translate data between TMF format and native application format, including resource-specific mappings and post-processing hooks."}], "methods": [{"name": "Dict[str,Any] _rename_fields(data: Dict[str, Any], mapping: Dict[str, str], passthrough: bool = True)", "description": "Utility function to rename dictionary keys based on a provided mapping; optionally passes through unknown keys.", "scope": "", "scopeKind": ""}, {"name": "Any _normalize_id(value: Any)", "description": "Function to normalize ID values to a string type for TMF compatibility.", "scope": "", "scopeKind": ""}, {"name": "__init__(self, schema_loader)", "description": "Constructor initializing the translation service with a schema loader and setting up resource mapping registry.", "scope": "TranslatorService", "scopeKind": "class"}, {"name": "Dict[str,Any] _get_entry(self, resource: str)", "description": "Retrieves resource-specific mapping entries from the registry, case-insensitive.", "scope": "TranslatorService", "scopeKind": "class"}, {"name": "Dict[str,Any] _apply_query_mapping(self, resource: str, params: Dict[str, Any])", "description": "Maps query parameters from TMF to native format based on resource-specific query map.", "scope": "TranslatorService", "scopeKind": "class"}, {"name": "Dict[str,Any] _item_tmf_post(self, data: Dict[str, Any])", "description": "Post-processing hook for TMF data, normalizing the ID field.", "scope": "TranslatorService", "scopeKind": "class"}, {"name": "Dict[str,Any] _item_native_post(self, data: Dict[str, Any])", "description": "Post-processing hook for native data, ensuring ID normalization before converting to TMF format.", "scope": "TranslatorService", "scopeKind": "class"}, {"name": "Dict[str,Any] tmf_to_native(self, resource: str, payload: Dict[str, Any])", "description": "Converts TMF request or query payloads into native Django app format, applying resource-specific mappings.", "scope": "TranslatorService", "scopeKind": "class"}, {"name": "Dict[str,Any] translate_query_params(self, resource: str, params: Dict[str, Any])", "description": "Translates TMF query parameters into native format using the registry.", "scope": "TranslatorService", "scopeKind": "class"}, {"name": "Dict[str,Any] native_to_tmf(self, resource: str, payload: Any)", "description": "Converts native response payloads into TMF format, supporting dicts, lists, and other types with appropriate wrapping.", "scope": "TranslatorService", "scopeKind": "class"}, {"name": "Dict[str,Any] map_one(obj: Dict[str, Any])", "scope": "TranslatorService.native_to_tmf", "scopeKind": "member", "description": "unavailable"}], "calls": ["_normalize_id", "_get_entry", "_rename_fields", "deepcopy", "callable", "entry.get"], "search-terms": ["TranslatorService", "tmf_to_native", "native_to_tmf", "registry", "field renaming", "ID normalization", "resource mapping", "query translation", "post processing hooks"], "state": 2, "file_id": 13, "knowledge_revision": 71, "git_revision": "83a9d03236f354a30954acefad816a82bf4d4037", "revision_history": [{"29": ""}, {"54": "6c663459b5cbf5c43f72c736ffc19d714f7eb24b"}, {"71": "83a9d03236f354a30954acefad816a82bf4d4037"}], "ctags": [{"_type": "tag", "name": "MappingFunc", "path": "/home/kavia/workspace/code-generation/tmfmapperv1-5116-5210/FlaskTMFTranslationMiddleware/app/services/translator.py", "pattern": "/^MappingFunc = Callable[[Dict[str, Any]], Dict[str, Any]]$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "TranslatorService", "path": "/home/kavia/workspace/code-generation/tmfmapperv1-5116-5210/FlaskTMFTranslationMiddleware/app/services/translator.py", "pattern": "/^class TranslatorService:$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "__init__", "path": "/home/kavia/workspace/code-generation/tmfmapperv1-5116-5210/FlaskTMFTranslationMiddleware/app/services/translator.py", "pattern": "/^    def __init__(self, schema_loader):$/", "language": "Python", "kind": "member", "signature": "(self, schema_loader)", "scope": "TranslatorService", "scopeKind": "class"}, {"_type": "tag", "name": "_apply_query_mapping", "path": "/home/kavia/workspace/code-generation/tmfmapperv1-5116-5210/FlaskTMFTranslationMiddleware/app/services/translator.py", "pattern": "/^    def _apply_query_mapping(self, resource: str, params: Dict[str, Any]) -> Dict[str, Any]:$/", "language": "Python", "typeref": "typename:Dict[str,Any]", "kind": "member", "signature": "(self, resource: str, params: Dict[str, Any])", "scope": "TranslatorService", "scopeKind": "class"}, {"_type": "tag", "name": "_get_entry", "path": "/home/kavia/workspace/code-generation/tmfmapperv1-5116-5210/FlaskTMFTranslationMiddleware/app/services/translator.py", "pattern": "/^    def _get_entry(self, resource: str) -> Dict[str, Any]:$/", "language": "Python", "typeref": "typename:Dict[str,Any]", "kind": "member", "signature": "(self, resource: str)", "scope": "TranslatorService", "scopeKind": "class"}, {"_type": "tag", "name": "_item_native_post", "path": "/home/kavia/workspace/code-generation/tmfmapperv1-5116-5210/FlaskTMFTranslationMiddleware/app/services/translator.py", "pattern": "/^    def _item_native_post(self, data: Dict[str, Any]) -> Dict[str, Any]:$/", "language": "Python", "typeref": "typename:Dict[str,Any]", "kind": "member", "signature": "(self, data: Dict[str, Any])", "scope": "TranslatorService", "scopeKind": "class"}, {"_type": "tag", "name": "_item_tmf_post", "path": "/home/kavia/workspace/code-generation/tmfmapperv1-5116-5210/FlaskTMFTranslationMiddleware/app/services/translator.py", "pattern": "/^    def _item_tmf_post(self, data: Dict[str, Any]) -> Dict[str, Any]:$/", "language": "Python", "typeref": "typename:Dict[str,Any]", "kind": "member", "signature": "(self, data: Dict[str, Any])", "scope": "TranslatorService", "scopeKind": "class"}, {"_type": "tag", "name": "_normalize_id", "path": "/home/kavia/workspace/code-generation/tmfmapperv1-5116-5210/FlaskTMFTranslationMiddleware/app/services/translator.py", "pattern": "/^def _normalize_id(value: Any) -> Any:$/", "language": "Python", "typeref": "typename:Any", "kind": "function", "signature": "(value: Any)"}, {"_type": "tag", "name": "_rename_fields", "path": "/home/kavia/workspace/code-generation/tmfmapperv1-5116-5210/FlaskTMFTranslationMiddleware/app/services/translator.py", "pattern": "/^def _rename_fields(data: Dict[str, Any], mapping: Dict[str, str], passthrough: bool = True) -> D/", "language": "Python", "typeref": "typename:Dict[str,Any]", "kind": "function", "signature": "(data: Dict[str, Any], mapping: Dict[str, str], passthrough: bool = True)"}, {"_type": "tag", "name": "map_one", "path": "/home/kavia/workspace/code-generation/tmfmapperv1-5116-5210/FlaskTMFTranslationMiddleware/app/services/translator.py", "pattern": "/^        def map_one(obj: Dict[str, Any]) -> Dict[str, Any]:$/", "file": true, "language": "Python", "typeref": "typename:Dict[str,Any]", "kind": "function", "signature": "(obj: Dict[str, Any])", "scope": "TranslatorService.native_to_tmf", "scopeKind": "member"}, {"_type": "tag", "name": "native_to_tmf", "path": "/home/kavia/workspace/code-generation/tmfmapperv1-5116-5210/FlaskTMFTranslationMiddleware/app/services/translator.py", "pattern": "/^    def native_to_tmf(self, resource: str, payload: Any) -> Dict[str, Any]:$/", "language": "Python", "typeref": "typename:Dict[str,Any]", "kind": "member", "signature": "(self, resource: str, payload: Any)", "scope": "TranslatorService", "scopeKind": "class"}, {"_type": "tag", "name": "tmf_to_native", "path": "/home/kavia/workspace/code-generation/tmfmapperv1-5116-5210/FlaskTMFTranslationMiddleware/app/services/translator.py", "pattern": "/^    def tmf_to_native(self, resource: str, payload: Dict[str, Any]) -> Dict[str, Any]:$/", "language": "Python", "typeref": "typename:Dict[str,Any]", "kind": "member", "signature": "(self, resource: str, payload: Dict[str, Any])", "scope": "TranslatorService", "scopeKind": "class"}, {"_type": "tag", "name": "translate_query_params", "path": "/home/kavia/workspace/code-generation/tmfmapperv1-5116-5210/FlaskTMFTranslationMiddleware/app/services/translator.py", "pattern": "/^    def translate_query_params(self, resource: str, params: Dict[str, Any]) -> Dict[str, Any]:$/", "language": "Python", "typeref": "typename:Dict[str,Any]", "kind": "member", "signature": "(self, resource: str, params: Dict[str, Any])", "scope": "TranslatorService", "scopeKind": "class"}], "hash": "708f9f6f0a087859a17fbb32c124b720", "format-version": 4, "code-base-name": "FlaskTMFTranslationMiddleware", "filename": "FlaskTMFTranslationMiddleware/app/services/translator.py", "fields": [{"name": "MappingFunc = Callable[[Dict[str, Any]], Dict[str, Any]]", "scope": "", "scopeKind": "", "description": "unavailable"}]}