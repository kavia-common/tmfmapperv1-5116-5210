{"is_source_file": true, "format": "Python", "description": "This file defines Flask route endpoints for TMF proxy operations, including collection and item endpoints with CRUD functionality, handling translation, validation, and proxy forwarding logic.", "external_files": ["flask_smorest", "flask.views", "flask", "app.services.translator", "app.services.proxy", "app.services.validator", "app.utils.errors", "app.observability.metrics"], "external_methods": ["inc_counter", "_error_response"], "published": [], "classes": [{"name": "TMFResourceCollection", "description": "Handles collection-level TMF resource endpoints with GET and POST methods."}, {"name": "TMFResourceItem", "description": "Handles item-level TMF resource endpoints with GET, PATCH, PUT, DELETE methods."}], "methods": [{"name": "_services()", "description": "Initializes and returns TMF translator, proxy, and validator services.", "scope": "", "scopeKind": ""}, {"name": "bool _should_validate(flag_name: str)", "description": "Determines whether to validate based on request query parameters or app config.", "scope": "", "scopeKind": ""}, {"name": "_error(code: str, message: str, status: int = 400)", "description": "Creates a standardized error response.", "scope": "", "scopeKind": ""}, {"name": "_forward_auth_headers()", "description": "Constructs headers to forward authorization info to upstream proxy.", "scope": "", "scopeKind": ""}, {"name": "delete(self, resource: str, item_id: str)", "scope": "TMFResourceItem", "scopeKind": "class", "description": "unavailable"}, {"name": "get(self, resource: str)", "scope": "TMFResourceCollection", "scopeKind": "class", "description": "unavailable"}, {"name": "get(self, resource: str, item_id: str)", "scope": "TMFResourceItem", "scopeKind": "class", "description": "unavailable"}, {"name": "patch(self, resource: str, item_id: str)", "scope": "TMFResourceItem", "scopeKind": "class", "description": "unavailable"}, {"name": "post(self, resource: str)", "scope": "TMFResourceCollection", "scopeKind": "class", "description": "unavailable"}, {"name": "put(self, resource: str, item_id: str)", "scope": "TMFResourceItem", "scopeKind": "class", "description": "unavailable"}], "calls": ["inc_counter(\"proxy_errors\")", "inc_counter(\"validation_failures\")", "jsonify", "current_app.config.get", "request.args.get", "request.get_json", "request.headers.get", "translator.translate_query_params", "translator.native_to_tmf", "translator.tmf_to_native", "proxy.forward"], "search-terms": ["TMF proxy endpoints", "flask smorest", "resource collection", "resource item", "validation toggle", "proxy forwarding", "upstream error handling", "translator service", "proxy service", "validation service"], "state": 2, "file_id": 10, "knowledge_revision": 62, "git_revision": "6c663459b5cbf5c43f72c736ffc19d714f7eb24b", "revision_history": [{"23": ""}, {"62": "6c663459b5cbf5c43f72c736ffc19d714f7eb24b"}], "ctags": [{"_type": "tag", "name": "TMFResourceCollection", "path": "/home/kavia/workspace/code-generation/tmfmapperv1-5116-5210/FlaskTMFTranslationMiddleware/app/routes/tmf_proxy.py", "pattern": "/^class TMFResourceCollection(MethodView):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "TMFResourceItem", "path": "/home/kavia/workspace/code-generation/tmfmapperv1-5116-5210/FlaskTMFTranslationMiddleware/app/routes/tmf_proxy.py", "pattern": "/^class TMFResourceItem(MethodView):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "_error", "path": "/home/kavia/workspace/code-generation/tmfmapperv1-5116-5210/FlaskTMFTranslationMiddleware/app/routes/tmf_proxy.py", "pattern": "/^def _error(code: str, message: str, status: int = 400):$/", "language": "Python", "kind": "function", "signature": "(code: str, message: str, status: int = 400)"}, {"_type": "tag", "name": "_forward_auth_headers", "path": "/home/kavia/workspace/code-generation/tmfmapperv1-5116-5210/FlaskTMFTranslationMiddleware/app/routes/tmf_proxy.py", "pattern": "/^def _forward_auth_headers():$/", "language": "Python", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "_services", "path": "/home/kavia/workspace/code-generation/tmfmapperv1-5116-5210/FlaskTMFTranslationMiddleware/app/routes/tmf_proxy.py", "pattern": "/^def _services():$/", "language": "Python", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "_should_validate", "path": "/home/kavia/workspace/code-generation/tmfmapperv1-5116-5210/FlaskTMFTranslationMiddleware/app/routes/tmf_proxy.py", "pattern": "/^def _should_validate(flag_name: str) -> bool:$/", "language": "Python", "typeref": "typename:bool", "kind": "function", "signature": "(flag_name: str)"}, {"_type": "tag", "name": "blp", "path": "/home/kavia/workspace/code-generation/tmfmapperv1-5116-5210/FlaskTMFTranslationMiddleware/app/routes/tmf_proxy.py", "pattern": "/^blp = Blueprint(\"TMF Proxy\", \"tmf_proxy\", url_prefix=\"\\/tmf\", description=\"TMF CRUD proxy endpoi/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "delete", "path": "/home/kavia/workspace/code-generation/tmfmapperv1-5116-5210/FlaskTMFTranslationMiddleware/app/routes/tmf_proxy.py", "pattern": "/^    def delete(self, resource: str, item_id: str):$/", "language": "Python", "kind": "member", "signature": "(self, resource: str, item_id: str)", "scope": "TMFResourceItem", "scopeKind": "class"}, {"_type": "tag", "name": "get", "path": "/home/kavia/workspace/code-generation/tmfmapperv1-5116-5210/FlaskTMFTranslationMiddleware/app/routes/tmf_proxy.py", "pattern": "/^    def get(self, resource: str):$/", "language": "Python", "kind": "member", "signature": "(self, resource: str)", "scope": "TMFResourceCollection", "scopeKind": "class"}, {"_type": "tag", "name": "get", "path": "/home/kavia/workspace/code-generation/tmfmapperv1-5116-5210/FlaskTMFTranslationMiddleware/app/routes/tmf_proxy.py", "pattern": "/^    def get(self, resource: str, item_id: str):$/", "language": "Python", "kind": "member", "signature": "(self, resource: str, item_id: str)", "scope": "TMFResourceItem", "scopeKind": "class"}, {"_type": "tag", "name": "patch", "path": "/home/kavia/workspace/code-generation/tmfmapperv1-5116-5210/FlaskTMFTranslationMiddleware/app/routes/tmf_proxy.py", "pattern": "/^    def patch(self, resource: str, item_id: str):$/", "language": "Python", "kind": "member", "signature": "(self, resource: str, item_id: str)", "scope": "TMFResourceItem", "scopeKind": "class"}, {"_type": "tag", "name": "post", "path": "/home/kavia/workspace/code-generation/tmfmapperv1-5116-5210/FlaskTMFTranslationMiddleware/app/routes/tmf_proxy.py", "pattern": "/^    def post(self, resource: str):$/", "language": "Python", "kind": "member", "signature": "(self, resource: str)", "scope": "TMFResourceCollection", "scopeKind": "class"}, {"_type": "tag", "name": "put", "path": "/home/kavia/workspace/code-generation/tmfmapperv1-5116-5210/FlaskTMFTranslationMiddleware/app/routes/tmf_proxy.py", "pattern": "/^    def put(self, resource: str, item_id: str):$/", "language": "Python", "kind": "member", "signature": "(self, resource: str, item_id: str)", "scope": "TMFResourceItem", "scopeKind": "class"}], "hash": "a8f45460f1c7412a5a302eb80c17f055", "format-version": 4, "code-base-name": "FlaskTMFTranslationMiddleware", "filename": "FlaskTMFTranslationMiddleware/app/routes/tmf_proxy.py", "fields": [{"name": "blp = Blueprint(\"TMF Proxy\", \"tmf_proxy\", url_prefix=\"\\/tmf\", description=\"TMF CRUD proxy endpoi/", "scope": "", "scopeKind": "", "description": "unavailable"}]}